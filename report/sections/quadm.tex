Quadcopter control is a complex, yet interesting problem. One of the reasons why this control problem is challenging is the fact that a quadcopter has six degrees of freedom, but only four inputs which affects the linearity of the dynamics and makes the quadcopter underactuated. 

In this chapter we will take a look at the kinematics and dynamics equations that describe our quadcopter system.

\section{Quaternions and Euler angles}
In Section \label{2.1}, we have explained how the position of the quadcopter is expressed in the inertial frame and how the  velocity of the quadcopter is express in the body-fixed frame. Therefore, we need to be able to find a relationship between the two, so that we can move from one to the other.

Euler angles have to be applied as a sequence of rotations. This report will use the \textit{roll, pitch, yaw} convention. Therefore, the roll rotation will be $(R(\phi)^{T})$, the pitch rotation will be $(R(\theta)^{T})$ and the yaw rotation will be $(R(\psi)^{T})$. Equations \label{rollrotation}, \label{pitchrotation} and \label{yawrotation}  describe the quadcopter's orientation relative to the inertial frame in matrix form:

\begin{equation}
\label{rollrotation}	
 	R(\phi)^{T}=\begin{bmatrix}
 	1 & 0 & 0 \\
 	0 & cos\phi & sin\phi \\
 	0 & -sin\phi & cos\phi \\
 	\end{bmatrix}
 \end{equation}
 
 \begin{equation}
\label{pitchrotation}	
 	R(\theta)^{T}=\begin{bmatrix}
 	cos\theta & 0 & -sin\theta \\
 	0 & 1 & 0 \\
 	sin\theta & 0 & cos\theta \\
 	\end{bmatrix}
 \end{equation}
 
 \begin{equation}
\label{yawrotation}	
 	R(\psi)^{T}=\begin{bmatrix}
 	cos\psi & sin\psi & 0 \\
 	-sin\psi & cos\psi & 0 \\
 	0 & 0 & 1 \\
 	\end{bmatrix}
 \end{equation}
 
Merging the three rotations as: 

 \begin{equation}
\label{S1}	
 	S=R(\phi)^{T}R(\theta)^{T}R(\psi)^{T}
 \end{equation}
 
gives the rotation matrix - \textit{S}, which expresses a vector from the inertial frame to the body-fixed frame: 
 
  \begin{equation}
\label{S2}
 S=\begin{bmatrix}
 	cos\theta cos\psi & cos\theta sin\psi & -sin\theta \\
 	cos\psi sin\phi sin\theta-cos\phi sin\psi & sin\psi sin\theta sin\phi+cos\phi cos\psi & cos\theta sin\phi \\
 	cos\psi cos\phi sin\theta & cos\phi sin\theta sin\psi-cos\psi sin\phi & cos\theta cos\phi \\
 	\end{bmatrix}
 	 \end{equation}
 	 
 	 
 	 
 	 
 	 
 	 